<!DOCTYPE html>
<html lang="hu">

<head>
	<meta charset="utf-8">
	<title>Szentendre Admin</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase.js"></script>
	<script>
		// Initialize Firebase
		var config = {
			apiKey: "AIzaSyDxOIifH2S1VXIfFZ4yEa9GHKx2ZK0hp6U",
			authDomain: "szentendre-mavo.firebaseapp.com",
			databaseURL: "https://szentendre-mavo.firebaseio.com",
			projectId: "szentendre-mavo",
			storageBucket: "szentendre-mavo.appspot.com",
			messagingSenderId: "626136878088"
		};
		firebase.initializeApp(config);
	</script>
<link rel="stylesheet" href="/mavo.css">	
<script src="/mavo.js"></script>
<!--script- src="/mavo-tinymce.js"></script-->
<!-- 	<link rel="stylesheet" href="https://dev.mavo.io/dist/mavo.css">	
	<script src="https://dev.mavo.io/dist/mavo.min.js"></script> -->
<!-- 	<link rel="stylesheet" href="https://get.mavo.io/mavo.css">
	<script src="https://get.mavo.io/mavo.min.js"></script> -->
	
	<script src="/mavo-firebase.min.js"></script>
<!--
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.css">
-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.3.0/milligram.min.css">
<script src="https://unpkg.com/boxicons@latest/dist/boxicons.js"></script>

<link rel="stylesheet" href="/index-min.css">	

</head>

<body>

	<main 
	mv-app="szentendre-mavo" 
	mv-storage="firebase" 
	mv-unauthenticated-permissions="read edit save"
	mv-server-push="true"
	mv-autosave="0"
	mv-plugins="tinymce"
	-mv-storage="local" 
	-mv-source="https://github.com/vhollo/szentendre"
	-mv-storage="szentendre-mavo.json" 
	mv-mode="edit"
	-mv-bar="none" 
	>
<!-- 
		<nav class="mv-bar -mv-ui">
			<label class="button" for="poi">Épületek</label>
			<label class="button" for="person">Személyek</label>
			<label class="button" for="photo">Fotók</label>
		</nav>
 -->
		<input type="radio" name="section" hidden checked id="poi" />
		<section class="poi">
			<h1>Épületek</h1>
			<div mv-multiple property="poi">
				<input hidden id="[idify(address)]" type="checkbox" />
				<div class="detail-header">
					<label for="[idify(address)]">
						<span class="button icon"><box-icon open name='chevrons-down' color='white' size='lg'></box-icon><box-icon close name='chevrons-up' color='white' size='lg'></box-icon></span>
						<span property="address">Címe?</span>
					</label>
					<a class="button icon [if(address = '', 'hidden')]" href="http://maps.google.com/?q=szentendre+[address]" target="_blank"><box-icon name='map-pin' color='white' size='lg'></box-icon></a>
					<label for="[idify(address)]">
						<span>[name]</span>
					</label>
				</div>
				<div class="details building">
					<p><b>Neve(i):</b>
						<span mv-multiple property="name"></span>
						<button type="button" class="icon mv-ui mv-add-name hidden"><box-icon name='list-plus' color='white' size='lg'></box-icon></button>
					</p>
					<p><b>Funkció(i)?</b>
						<span mv-multiple property="function"></span>
						<button type="button" class="icon mv-ui mv-add-function hidden"><box-icon name='list-plus' color='white' size='lg'></box-icon></button>
					</p>
					<p>
							<b>Építés éve:</b> <span property="build_date"></span><br>
							<b>Építtető(k):</b> <span mv-multiple property="builder"></span>
							<button type="button" class="icon mv-ui mv-add-builder hidden"><box-icon name='list-plus' color='white' size='lg'></box-icon></button>
						</p>
					<p>
						<b>Építész(ek):</b> <span mv-multiple property="architect"></span>
						<button type="button" class="icon mv-ui mv-add-architect hidden"><box-icon name='list-plus' color='white' size='lg'></box-icon></button>
					</p>
					<p>
						<b>Nevezetes személyek?</b>
						<span mv-multiple property="person"></span>
						<button type="button" class="icon mv-ui mv-add-person hidden"><box-icon name='list-plus' color='white' size='lg'></box-icon></button>
					</p>
				</div>
				<div class="details text">
					<p><b>Átalakítások, átépítések</b></p>
					<div class="datetable" mv-multiple property="change" sortable typeof="Changes">
						<span property="date"></span>
						<span>:</span>
						<span property="text" class="tinymce"></span>
					</div>
					<button type="button" class="icon mv-ui mv-add-change hidden"><box-icon name='list-plus' color='white' size='lg'></box-icon></button>
				</div>
				<div class="details text">
					<p><b>Szöveges források</b></p>
					<div property="longtext" class="tinymce"></div>
				</div>
				<div class="details photo">
					<p><b>Fotók</b></p>
					<!--figure property="figure" mv-multiple>
						<span mv-multiple property="img" mv-accepts="photos.img">
							<img property="src" width="100" height="100" />
							<span property="loc" mv-default="[idify(address)]"></span>
							<button mv-action="add(photos.img, img)"><box-icon name='clipboard' color='white' size='lg'></box-icon></button>
						</span>
						<figcaption property="figcaption"></figcaption>
					</figure-->
					<figure property="figure" mv-multiple>
						<span mv-multiple property="img" mv-accepts="photos.img">
							<img property="src" -width="100" -height="100" />
							<span property="loc" mv-default="[idify(address)]"></span>
							<button class="icon" mv-action="move(img, photos.img)"><box-icon name='trash' color='white' size='lg'></box-icon></button>
							<div class="mv-item-bar -mv-ui" mv-rel="img"><button type="button" title="Drag to reorder img" class="mv-drag-handle"></button></div>
						</span>
						<button type="button" class="icon mv-ui mv-add-img hidden"><box-icon name='file-plus' color='white' size='lg'></box-icon></button>
						<figcaption property="figcaption"></figcaption>
					</figure>
					<button type="button" class="icon mv-ui mv-add-figure hidden"><box-icon name='list-plus' color='white' size='lg'></box-icon></button>
				</div>
			</div>
			<button type="button" class="icon full mv-ui mv-add-poi hidden"><box-icon name='folder-plus' color='white' size='lg'></box-icon></button>
		</section>

		<input type="radio" name="section" hidden id="person" />
		<section class="person">
			<h1>Személyek</h1>
			<div property="person" mv-multiple -mv-edit="#persons">
				<p>
					<span property="name">Új személy</span>
				</p>
				<p>
					<span property="ref" mv-multiple readonly>Kapcsolódó uri-k</span>
				</p>
				<p>
					<span property="bio" class="t-inymce">Életrajz</span>
				</p>
			</div>
		</section>

		<input type="radio" name="section" hidden id="photo" />
		<section class="photo">
			<h1>Fényképek</h1>
			<div -property="photo" -mv-multiple -id="#photos">
				<figure>
					<img -property="src" -mv-multiple src="images/photo.jpg" width="100" height="100" />
					<figcaption -property="title">Fénykép címe</figcaption>
				</figure>
			</div>
		</section>

	<footer>
		<div>
			<input class="hidden" id="footer" type="checkbox" />
			<div class="detail-header">
				<label for="footer">
					<span class="button icon"><box-icon name='trash' color='white' size='lg'></span>
				</label>
			</div>
			<div class="details photo">
				<figure property="photos">
					<!--input type="text" property="where" readonly /-->
					<span mv-multiple property="img" mv-accepts="img" mv-accepts="figure.img">
						<img property="src" -width="100" -height="100" />
						<span property="loc"></span>
						<button class="icon" mv-action="move(img, photos.img)"><box-icon name='trash' color='white' size='lg'></box-icon></button>
					</span>
					<button type="button" class="icon mv-ui mv-add-img hidden"><box-icon name='file-plus' color='white' size='lg'></box-icon></button>
				</figure>
			</div>
		</div>
	</footer>

	</main>

</body>
</html>